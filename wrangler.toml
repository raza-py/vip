name = "vless-proxy-worker"
# The `account_id` must be set to your Cloudflare Account ID (UUID).
# Do NOT commit your real account id into version control. You have three options:
# 1) Pass it on the CLI when deploying: `npx wrangler deploy --account-id $CF_ACCOUNT_ID --name vless-proxy-worker`
# 2) Use an env-specific block below (uncomment and set in local deploys), or
# 3) Keep this blank and rely on CI secrets to pass `--account-id` at runtime.

main = "src/index.tsx"
compatibility_date = "2024-03-20"

# Analytics Engine dataset binding removed to avoid deployment error when
# Analytics Engine is not enabled on the Cloudflare account. If you want to
# use Analytics Engine, re-enable the following line and enable the feature
# in the Cloudflare Dashboard for your account.
# analytics_engine_datasets = [{ binding = "ANALYTICS", dataset = "vless_analytics" }]

[vars]
ADMIN_SECRET = "your-strong-secret"

# D1 database binding is commented out by default to avoid accidental
# validation errors if you don't use D1. Uncomment and set `database_id`
# if you intend to use Cloudflare D1.
# [[d1_databases]]
# binding = "DB"
# database_id = ""
# The D1 `database_id` must be the real database id (UUID) from Cloudflare.
# Replace the placeholder above with the actual UUID for your D1 database,
# for example: `database_id = "01234567-89ab-cdef-0123-456789abcdef"`.
# If you prefer to bind by name in your runtime, you can keep `database_name`,
# but Wrangler validates that a `database_id` exists for D1 bindings. If you
# don't need D1 for this deployment, comment out or remove the `[[d1_databases]]` block.

[build]
command = "npm run build:wasm"

# Example environment-specific override (use locally if helpful):
# [env.production]
# account_id = "01234567-89ab-cdef-0123-456789abcdef"
# Uncomment and fill the account_id above ONLY when you are certain the file
# will not be committed publicly. Prefer passing `--account-id` from CI or
# your shell environment instead.
