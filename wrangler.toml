name = "vless-proxy-worker"
main = "src/index.tsx"
compatibility_date = "2024-03-20"

wasm_modules = ["src/rust/pkg/vless_parser_bg.wasm"]

analytics_engine_datasets = [{ binding = "ANALYTICS", dataset = "vless_analytics" }]

[vars]
ADMIN_SECRET = "your-strong-secret"

[[d1_databases]]
binding = "DB"
database_name = "vless-db"
database_id = "your-d1-database-id"

[build]
command = "wasm-pack build src/rust && npx javascript-obfuscator ./wrangler-dist --output ./wrangler-dist"
